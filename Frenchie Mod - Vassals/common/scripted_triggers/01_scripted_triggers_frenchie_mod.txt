frenchie_enemy_of_PREV = {
  OR = {
    is_rival = PREV
    ai_attitude = {
      who = PREV
      attitude = attitude_hostile
    }
    ai_attitude = {
      who = PREV
      attitude = attitude_outraged
    }
    NOT = {
      has_opinion = {
       who = PREV
       value = -100
      }
    }
  }
}

frenchie_enemy_of_ROOT = {
  OR = {
    is_rival = ROOT
    ai_attitude = {
      who = ROOT
      attitude = attitude_hostile
    }
    ai_attitude = {
      who = ROOT
      attitude = attitude_outraged
    }
    NOT = {
      has_opinion = {
        who = ROOT
        value = -100
      }
    }
  }
}

frenchie_enemy_of_FROM = {
  OR = {
    is_rival = FROM
    ai_attitude = {
      who = FROM
      attitude = attitude_hostile
    }
    ai_attitude = {
      who = FROM
      attitude = attitude_outraged
    }
    NOT = {
      has_opinion = {
       who = FROM
       value = -100
      }
    }
  }
}

frenchie_same_religion_group_as_FROM = {
  OR = {
    AND = {
      religion_group = christian
      FROM = { religion_group = christian }
    }
    AND = {
      religion_group = muslim
      FROM = { religion_group = muslim }
    }
    AND = {
      religion_group = eastern
      FROM = { religion_group = eastern }
    }
    AND = {
      religion_group = dharmic
      FROM = { religion_group = dharmic }
    }
    AND = {
      religion_group = pagan
      FROM = { religion_group = pagan }
    }
    AND = {
      religion_group = jewish_group
      FROM = { religion_group = jewish_group }
    }
    AND = {
      religion_group = zoroastrian_group
      FROM = { religion_group = zoroastrian_group }
    }
  }
}

frenchie_same_religion_group_as_ROOT = {
  OR = {
    AND = {
      religion_group = christian
      ROOT = { religion_group = christian }
    }
    AND = {
      religion_group = muslim
      ROOT = { religion_group = muslim }
    }
    AND = {
      religion_group = eastern
      ROOT = { religion_group = eastern }
    }
    AND = {
      religion_group = dharmic
      ROOT = { religion_group = dharmic }
    }
    AND = {
      religion_group = pagan
      ROOT = { religion_group = pagan }
    }
    AND = {
      religion_group = jewish_group
      FROM = { religion_group = jewish_group }
    }
    AND = {
      religion_group = zoroastrian_group
      FROM = { religion_group = zoroastrian_group }
    }
  }
}


frenchie_would_accept_becoming_protec = {
  variable_arithmetic_trigger = {
    export_to_variable = {
        variable_name = acceptance
        value = -25
    }
    if = {
      limit = {
        ROOT = { has_reform = trading_city }
      }
      subtract_variable = {
        which = acceptance
        value = 30
      }
    }
    if = {
      limit = {
        ROOT = { is_in_trade_league = yes }
      }
      change_variable = {
        which = acceptance
        value = -30
      }
    }
    if = {
      limit = {
        FROM = { marriage_with = ROOT }
      }
      change_variable = {
        which = acceptance
        value = 10
      }
    }
    if = {
      limit = {
        FROM = { alliance_with = ROOT }
      }
      subtract_variable = {
        which = acceptance
        value = 30
      }
    }
    if = {
      limit = {
        ROOT = { has_reform = free_city }
      }
      subtract_variable = {
        which = acceptance
        value = 30
      }
    }
    if = {
      limit = {
        FROM = { is_emperor = yes }
      }
      change_variable = {
        which = acceptance
        value = 20
      }
    }
    if = {
      limit = {
        ROOT = { is_elector = yes}
      }
      subtract_variable = {
        which = acceptance
        value = 50
      }
    }
    export_to_variable = {
      variable_name = trustVAR
      value = trust
      who = ROOT
      with = FROM
    }
    multiply_variable = {
      which = trustVAR
      value = 2
    }
    subtract_variable = {
      which = trustVAR
      value = 100
    }
    change_variable = {
      which = acceptance
      which = trustVAR
    }
    export_to_variable = {
      variable_name = theirarmyVAR
      value = army_size
      who = FROM
    }
    export_to_variable = {
      variable_name = yourarmyVAR
      value = army_size
      who = ROOT
    }
    subtract_variable = {
      which = theirarmyVAR
      which = yourarmyVAR
    }
    change_variable = {
      which = acceptance
      which = theirarmyVAR
    }
    export_to_variable = {
      variable_name = distanceVAR
      value = border_distance
      who = FROM
    }
    divide_variable = {
      which = distanceVAR
      value = 5
    }
    multiply_variable = {
      which = distanceVAR
      value = -1
    }
    change_variable = {
      which = acceptance
      which = distanceVAR
    }
    export_to_variable = {
      variable_name = theirincomeVAR
      value = monthly_income
      who = FROM
    }
    export_to_variable = {
      variable_name = yourincomeVAR
      value = monthly_income
      who = ROOT
    }
    subtract_variable = {
      which = theirincomeVAR
      which = yourincomeVAR
    }
    change_variable = {
      which = acceptance
      which = theirincomeVAR
    }
    export_to_variable = {
      variable_name = opinionVAR
      value = opinion
      who = ROOT
      with = FROM
    }
    multiply_variable = {
      which = opinionVAR
      value = 0.25
    }
    change_variable = {
      which = acceptance
      which = opinionVAR
    }
    export_to_variable = {
      variable_name = theirdiprepVAR
      value = modifier:diplomatic_reputation
      who = FROM
    }
    export_to_variable ={
    variable_name = ourdiprepVAR
    value = modifier:diplomatic_reputation
    who = ROOT
    }
    subtract_variable = {
      which = theirdiprepVAR
      which = ourdiprepVAR
    }
    multiply_variable = {
      which = theirdiprepVAR
      value = 5
    }
    change_variable = {
      which = acceptance
      which = theirdiprepVAR
    }
    if = {
      limit = {
        FROM = {
          has_commanding_three_star = yes
        }
      }
      change_variable = {
        which = acceptance
        value = 10
      }
    }
    export_to_variable = {
      variable_name = ourdevVAR
      value = total_development
      who = ROOT
    }
    multiply_variable = {
      which = ourdevVAR
      value = -0.2
    }
    change_variable = {
      which = acceptance
      which = ourdevVAR
    }
    if = {
      limit = {
        FROM = {
          is_bankrupt = yes
        }
      }
      change_variable = {
        which = acceptance
        value = -100
      }
    }
    if = {
      limit = {
        ROOT = { protectorate = 1 }
      }
      change_variable = {
        which = acceptance
        value = -20
      }
    }


    check_variable = {
        which = acceptance
        value = 0
    }
  }
}

frenchie_FROM_would_accept_becoming_protec = {
  variable_arithmetic_trigger = {
    export_to_variable = {
        variable_name = acceptance
        value = -25
    }
    if = {
      limit = {
        FROM = { has_reform = trading_city }
      }
      subtract_variable = {
        which = acceptance
        value = 30
      }
    }
    if = {
      limit = {
        FROM = { is_in_trade_league = yes }
      }
      change_variable = {
        which = acceptance
        value = -30
      }
    }
    if = {
      limit = {
        FROM = { marriage_with = ROOT }
      }
      change_variable = {
        which = acceptance
        value = 10
      }
    }
    if = {
      limit = {
        FROM = { alliance_with = ROOT }
      }
      subtract_variable = {
        which = acceptance
        value = 30
      }
    }
    if = {
      limit = {
        FROM = { has_reform = free_city }
      }
      subtract_variable = {
        which = acceptance
        value = 30
      }
    }
    if = {
      limit = {
        ROOT = { is_emperor = yes }
      }
      change_variable = {
        which = acceptance
        value = 20
      }
    }
    if = {
      limit = {
        FROM = { is_elector = yes}
      }
      subtract_variable = {
        which = acceptance
        value = 50
      }
    }
    export_to_variable = {
      variable_name = trustVAR
      value = trust
      who = FROM
      with = ROOT
    }
    multiply_variable = {
      which = trustVAR
      value = 2
    }
    subtract_variable = {
      which = trustVAR
      value = 100
    }
    change_variable = {
      which = acceptance
      which = trustVAR
    }

    if = {
      limit = {
        NOT = {
          variable_arithmetic_trigger = {
            export_to_variable = {
              variable_name = frenchie_my_army_size
              value = army_size
            }
            export_to_variable = {
              variable_name = frenchie_their_army_size
              value = army_size
              who = FROM
            }
            change_variable = { which = frenchie_their_army_size value = 1 }
            divide_variable = { which = frenchie_my_army_size which = frenchie_their_army_size }
            multiply_variable = { which = frenchie_my_army_size value = 20 }
            subtract_variable = { which = frenchie_my_army_size value = 30 }

            check_variable = {
              which = frenchie_my_army_size
              value = 30
            }
          }
        }
      }
      export_to_variable = {
        variable_name = theirarmyVAR
        value = army_size
        who = ROOT
      }
      export_to_variable = {
        variable_name = yourarmyVAR
        value = army_size
        who = FROM
      }
      change_variable = {
        which = yourarmyVAR
        value = 1
      }
      divide_variable = {
        which = theirarmyVAR
        which = yourarmyVAR
      }
      multiply_variable = {
        which = theirarmyVAR
        value = 20
      }
      subtract_variable = {
        which = theirarmyVAR
        value = 30
      }

      change_variable = {
        which = acceptance
        which = theirarmyVAR
      }
    }
    if = {
      limit = {
        variable_arithmetic_trigger = {
          export_to_variable = {
            variable_name = frenchie_my_army_size
            value = army_size
           }
          export_to_variable = {
            variable_name = frenchie_their_army_size
            value = army_size
            who = FROM
          }
          change_variable = { which = frenchie_their_army_size value = 1 }
          divide_variable = { which = frenchie_my_army_size which = frenchie_their_army_size }
          multiply_variable = { which = frenchie_my_army_size value = 20 }
          subtract_variable = { which = frenchie_my_army_size value = 30 }

          check_variable = {
            which = frenchie_my_army_size
            value = 30
          }
        }
      }

      change_variable = {
        which = acceptance
        which = 30
      }
    }

    export_to_variable = {
      variable_name = distanceVAR
      value = border_distance
      who = FROM
    }
    divide_variable = {
      which = distanceVAR
      value = 5
    }
    multiply_variable = {
      which = distanceVAR
      value = -1
    }
    change_variable = {
      which = acceptance
      which = distanceVAR
    }
    export_to_variable = {
      variable_name = opinionVAR
      value = opinion
      who = FROM
      with = ROOT
    }
    multiply_variable = {
      which = opinionVAR
      value = 0.25
    }
    change_variable = {
      which = acceptance
      which = opinionVAR
    }
    export_to_variable = {
      variable_name = theirdiprepVAR
      value = modifier:diplomatic_reputation
      who = ROOT
    }
    export_to_variable ={
    variable_name = ourdiprepVAR
    value = modifier:diplomatic_reputation
    who = FROM
    }
    subtract_variable = {
      which = theirdiprepVAR
      which = ourdiprepVAR
    }
    multiply_variable = {
      which = theirdiprepVAR
      value = 5
    }
    change_variable = {
      which = acceptance
      which = theirdiprepVAR
    }
    if = {
      limit = {
        ROOT = {
          has_commanding_three_star = yes
        }
      }
      change_variable = {
        which = acceptance
        value = 10
      }
    }
    export_to_variable = {
      variable_name = ourdevVAR
      value = total_development
      who = FROM
    }
    multiply_variable = {
      which = ourdevVAR
      value = -0.2
    }
    change_variable = {
      which = acceptance
      which = ourdevVAR
    }
    if = {
      limit = {
        ROOT = {
          is_bankrupt = yes
        }
      }
      change_variable = {
        which = acceptance
        value = -100
      }
    }
    if = {
      limit = {
        FROM = { protectorate = 1 }
      }
      change_variable = {
        which = acceptance
        value = -20
      }
    }


    check_variable = {
        which = acceptance
        value = 0
    }
  }
}

frenchie_pyramid = {
  OR = {
    AND = {
      ROOT = { is_subject = no }
      FROM = { is_subject = yes }
    }
    AND = {
      OR = {
        ROOT = { is_subject_of_type = protectorate }
      }
      OR = {
        FROM = { is_subject_of_type = autonomous_vassal }
        FROM = { is_subject_of_type = personal_union }
        FROM = { is_subject_of_type = ward }
        FROM = { is_subject_of_type = estate }
      }
    }
    AND = {
      OR = {
        ROOT = { is_subject_of_type = autonomous_vassal }
      }
      OR = {
        FROM = { is_subject_of_type = personal_union }
        FROM = { is_subject_of_type = ward }
        FROM = { is_subject_of_type = estate }
      }
    }
    AND = {
      OR = {
        ROOT = { is_subject_of_type = personal_union }
      }
      OR = {
        FROM = { is_subject_of_type = ward }
        FROM = { is_subject_of_type = estate }
      }
    }
    AND = {
      OR = {
        ROOT = { is_subject_of_type = ward }
      }
      OR = {
        FROM = { is_subject_of_type = estate }
      }
    }
  }
}

frenchie_would_betray = {
  variable_arithmetic_trigger = {
    export_to_variable = {
        variable_name = acceptance
        value = -50
    }
    add_entry = { name = In_Trade_League
      limit = {
        FROM = { is_in_trade_league = yes }
      }
      export_to_variable = {
        variable_name = acceptance
        value = -20
      }
    }
    add_entry = { name = Married
      limit = {
        FROM = {
          marriage_with = ROOT
        }
      }
      export_to_variable = {
        variable_name = acceptance
        value = 15
      }
    }
    add_entry = { name = Is_Emperor
      limit = {
        ROOT = { is_emperor = yes }
      }
      export_to_variable = {
        variable_name = acceptance
        value = 20
      }
    }
    add_entry = { name = Trust
      export_to_variable = {
        variable_name = acceptance
        value = trust
        who = FROM
        with = ROOT
      }
      multiply_variable = {
        which = acceptance
        value = 1.5
      }
      subtract_variable = {
        which = acceptance
        value = 75
      }
    }
    add_entry = { name = Distance_Between_Borders
      export_to_variable = {
        variable_name = acceptance
        value = border_distance
        who = FROM
      }
      multiply_variable = {
        which = acceptance
        value = -1
      }
      divide_variable = { which = acceptance value = 3 }
    }
    add_entry = { name = Opinion
      export_to_variable = {
        variable_name = acceptance
        value = opinion
        who = FROM
        with = ROOT
      }
      multiply_variable = {
        which = acceptance
        value = 0.25
      }
    }
    add_entry = { name = Relative_Diplomatic_Reputation
      export_to_variable = {
        variable_name = acceptance
        value = modifier:diplomatic_reputation
      }
      export_to_variable ={
      variable_name = acceptance_diprep
      value = modifier:diplomatic_reputation
      who = FROM
      }
      subtract_variable = {
        which = acceptance
        which = acceptance_diprep
      }
      multiply_variable = { which = acceptance value = 5 }
    }
    add_entry = { name = Bankruptcy
      limit = {
        ROOT = {
        is_bankrupt = yes
        }
      }
      export_to_variable = {
        variable_name = acceptance
        value = -100
        who = FROM
      }
    }
    add_entry = { name = warscore
      export_to_variable = {
        which = acceptance
        value = trigger_value:war_score
      }
    }
  }

  check_variable = {
      which = acceptance
      value = 0
  }
}
