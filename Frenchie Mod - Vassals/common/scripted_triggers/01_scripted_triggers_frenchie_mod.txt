frenchie_enemy_of_PREV = {
  OR = {
    is_rival = PREV
    ai_attitude = {
      who = PREV
      attitude = attitude_hostile
    }
    ai_attitude = {
      who = PREV
      attitude = attitude_outraged
    }
    NOT = {
      has_opinion = {
       who = PREV
       value = -100
      }
    }
  }
}

frenchie_enemy_of_ROOT = {
  OR = {
    is_rival = ROOT
    ai_attitude = {
      who = ROOT
      attitude = attitude_hostile
    }
    ai_attitude = {
      who = ROOT
      attitude = attitude_outraged
    }
    NOT = {
      has_opinion = {
        who = ROOT
        value = -100
      }
    }
  }
}

frenchie_enemy_of_FROM = {
  OR = {
    is_rival = FROM
    ai_attitude = {
      who = FROM
      attitude = attitude_hostile
    }
    ai_attitude = {
      who = FROM
      attitude = attitude_outraged
    }
    NOT = {
      has_opinion = {
       who = FROM
       value = -100
      }
    }
  }
}

frenchie_same_religion_group_as_FROM = {
  OR = {
    AND = {
      religion_group = christian
      FROM = { religion_group = christian }
    }
    AND = {
      religion_group = muslim
      FROM = { religion_group = muslim }
    }
    AND = {
      religion_group = eastern
      FROM = { religion_group = eastern }
    }
    AND = {
      religion_group = dharmic
      FROM = { religion_group = dharmic }
    }
    AND = {
      religion_group = pagan
      FROM = { religion_group = pagan }
    }
    AND = {
      religion_group = jewish_group
      FROM = { religion_group = jewish_group }
    }
    AND = {
      religion_group = zoroastrian_group
      FROM = { religion_group = zoroastrian_group }
    }
  }
}

frenchie_same_religion_group_as_ROOT = {
  OR = {
    AND = {
      religion_group = christian
      ROOT = { religion_group = christian }
    }
    AND = {
      religion_group = muslim
      ROOT = { religion_group = muslim }
    }
    AND = {
      religion_group = eastern
      ROOT = { religion_group = eastern }
    }
    AND = {
      religion_group = dharmic
      ROOT = { religion_group = dharmic }
    }
    AND = {
      religion_group = pagan
      ROOT = { religion_group = pagan }
    }
    AND = {
      religion_group = jewish_group
      FROM = { religion_group = jewish_group }
    }
    AND = {
      religion_group = zoroastrian_group
      FROM = { religion_group = zoroastrian_group }
    }
  }
}


frenchie_would_accept_becoming_protec = {
  variable_arithmetic_trigger = {
    export_to_variable = {
        variable_name = acceptance
        value = -25
    }
    if = {
      limit = {
        ROOT = { has_reform = trading_city }
      }
      subtract_variable = {
        which = acceptance
        value = 30
      }
    }
    if = {
      limit = {
        ROOT = { is_in_trade_league = yes }
      }
      change_variable = {
        which = acceptance
        value = -30
      }
    }
    if = {
      limit = {
        FROM = { marriage_with = ROOT }
      }
      change_variable = {
        which = acceptance
        value = 10
      }
    }
    if = {
      limit = {
        FROM = { alliance_with = ROOT }
      }
      subtract_variable = {
        which = acceptance
        value = 30
      }
    }
    if = {
      limit = {
        ROOT = { has_reform = free_city }
      }
      subtract_variable = {
        which = acceptance
        value = 30
      }
    }
    if = {
      limit = {
        FROM = { is_emperor = yes }
      }
      change_variable = {
        which = acceptance
        value = 20
      }
    }
    if = {
      limit = {
        ROOT = { is_elector = yes}
      }
      subtract_variable = {
        which = acceptance
        value = 50
      }
    }
    export_to_variable = {
      variable_name = trustVAR
      value = trust
      who = ROOT
      with = FROM
    }
    multiply_variable = {
      which = trustVAR
      value = 2
    }
    subtract_variable = {
      which = trustVAR
      value = 100
    }
    change_variable = {
      which = acceptance
      which = trustVAR
    }
    export_to_variable = {
      variable_name = theirarmyVAR
      value = army_size
      who = FROM
    }
    export_to_variable = {
      variable_name = yourarmyVAR
      value = army_size
      who = ROOT
    }
    subtract_variable = {
      which = theirarmyVAR
      which = yourarmyVAR
    }
    change_variable = {
      which = acceptance
      which = theirarmyVAR
    }
    export_to_variable = {
      variable_name = distanceVAR
      value = border_distance
      who = FROM
    }
    divide_variable = {
      which = distanceVAR
      value = 5
    }
    multiply_variable = {
      which = distanceVAR
      value = -1
    }
    change_variable = {
      which = acceptance
      which = distanceVAR
    }
    export_to_variable = {
      variable_name = theirincomeVAR
      value = monthly_income
      who = FROM
    }
    export_to_variable = {
      variable_name = yourincomeVAR
      value = monthly_income
      who = ROOT
    }
    subtract_variable = {
      which = theirincomeVAR
      which = yourincomeVAR
    }
    change_variable = {
      which = acceptance
      which = theirincomeVAR
    }
    export_to_variable = {
      variable_name = opinionVAR
      value = opinion
      who = ROOT
      with = FROM
    }
    multiply_variable = {
      which = opinionVAR
      value = 0.25
    }
    change_variable = {
      which = acceptance
      which = opinionVAR
    }
    export_to_variable = {
      variable_name = theirdiprepVAR
      value = modifier:diplomatic_reputation
      who = FROM
    }
    export_to_variable ={
    variable_name = ourdiprepVAR
    value = modifier:diplomatic_reputation
    who = ROOT
    }
    subtract_variable = {
      which = theirdiprepVAR
      which = ourdiprepVAR
    }
    multiply_variable = {
      which = theirdiprepVAR
      value = 5
    }
    change_variable = {
      which = acceptance
      which = theirdiprepVAR
    }
    if = {
      limit = {
        FROM = {
          has_commanding_three_star = yes
        }
      }
      change_variable = {
        which = acceptance
        value = 10
      }
    }
    export_to_variable = {
      variable_name = ourdevVAR
      value = total_development
      who = ROOT
    }
    multiply_variable = {
      which = ourdevVAR
      value = -0.2
    }
    change_variable = {
      which = acceptance
      which = ourdevVAR
    }
    if = {
      limit = {
        FROM = {
          is_bankrupt = yes
        }
      }
      change_variable = {
        which = acceptance
        value = -100
      }
    }
    if = {
      limit = {
        ROOT = { protectorate = 1 }
      }
      change_variable = {
        which = acceptance
        value = -20
      }
    }


    check_variable = {
        which = acceptance
        value = 0
    }
  }
}

frenchie_FROM_would_accept_becoming_protec = {
  variable_arithmetic_trigger = {
    export_to_variable = {
        variable_name = acceptance
        value = -25
    }
    if = {
      limit = {
        FROM = { has_reform = trading_city }
      }
      subtract_variable = {
        which = acceptance
        value = 30
      }
    }
    if = {
      limit = {
        FROM = { is_in_trade_league = yes }
      }
      change_variable = {
        which = acceptance
        value = -30
      }
    }
    if = {
      limit = {
        FROM = { marriage_with = ROOT }
      }
      change_variable = {
        which = acceptance
        value = 10
      }
    }
    if = {
      limit = {
        FROM = { alliance_with = ROOT }
      }
      subtract_variable = {
        which = acceptance
        value = 30
      }
    }
    if = {
      limit = {
        FROM = { has_reform = free_city }
      }
      subtract_variable = {
        which = acceptance
        value = 30
      }
    }
    if = {
      limit = {
        ROOT = { is_emperor = yes }
      }
      change_variable = {
        which = acceptance
        value = 20
      }
    }
    if = {
      limit = {
        FROM = { is_elector = yes}
      }
      subtract_variable = {
        which = acceptance
        value = 50
      }
    }
    export_to_variable = {
      variable_name = trustVAR
      value = trust
      who = FROM
      with = ROOT
    }
    multiply_variable = {
      which = trustVAR
      value = 2
    }
    subtract_variable = {
      which = trustVAR
      value = 100
    }
    change_variable = {
      which = acceptance
      which = trustVAR
    }

    if = {
      limit = {
        NOT = {
          variable_arithmetic_trigger = {
            export_to_variable = {
              variable_name = frenchie_my_army_size
              value = army_size
            }
            export_to_variable = {
              variable_name = frenchie_their_army_size
              value = army_size
              who = FROM
            }
            change_variable = { which = frenchie_their_army_size value = 1 }
            divide_variable = { which = frenchie_my_army_size which = frenchie_their_army_size }
            multiply_variable = { which = frenchie_my_army_size value = 20 }
            subtract_variable = { which = frenchie_my_army_size value = 30 }

            check_variable = {
              which = frenchie_my_army_size
              value = 30
            }
          }
        }
      }
      export_to_variable = {
        variable_name = theirarmyVAR
        value = army_size
        who = ROOT
      }
      export_to_variable = {
        variable_name = yourarmyVAR
        value = army_size
        who = FROM
      }
      change_variable = {
        which = yourarmyVAR
        value = 1
      }
      divide_variable = {
        which = theirarmyVAR
        which = yourarmyVAR
      }
      multiply_variable = {
        which = theirarmyVAR
        value = 20
      }
      subtract_variable = {
        which = theirarmyVAR
        value = 30
      }

      change_variable = {
        which = acceptance
        which = theirarmyVAR
      }
    }
    if = {
      limit = {
        variable_arithmetic_trigger = {
          export_to_variable = {
            variable_name = frenchie_my_army_size
            value = army_size
           }
          export_to_variable = {
            variable_name = frenchie_their_army_size
            value = army_size
            who = FROM
          }
          change_variable = { which = frenchie_their_army_size value = 1 }
          divide_variable = { which = frenchie_my_army_size which = frenchie_their_army_size }
          multiply_variable = { which = frenchie_my_army_size value = 20 }
          subtract_variable = { which = frenchie_my_army_size value = 30 }

          check_variable = {
            which = frenchie_my_army_size
            value = 30
          }
        }
      }

      change_variable = {
        which = acceptance
        which = 30
      }
    }

    export_to_variable = {
      variable_name = distanceVAR
      value = border_distance
      who = FROM
    }
    divide_variable = {
      which = distanceVAR
      value = 5
    }
    multiply_variable = {
      which = distanceVAR
      value = -1
    }
    change_variable = {
      which = acceptance
      which = distanceVAR
    }
    export_to_variable = {
      variable_name = opinionVAR
      value = opinion
      who = FROM
      with = ROOT
    }
    multiply_variable = {
      which = opinionVAR
      value = 0.25
    }
    change_variable = {
      which = acceptance
      which = opinionVAR
    }
    export_to_variable = {
      variable_name = theirdiprepVAR
      value = modifier:diplomatic_reputation
      who = ROOT
    }
    export_to_variable ={
    variable_name = ourdiprepVAR
    value = modifier:diplomatic_reputation
    who = FROM
    }
    subtract_variable = {
      which = theirdiprepVAR
      which = ourdiprepVAR
    }
    multiply_variable = {
      which = theirdiprepVAR
      value = 5
    }
    change_variable = {
      which = acceptance
      which = theirdiprepVAR
    }
    if = {
      limit = {
        ROOT = {
          has_commanding_three_star = yes
        }
      }
      change_variable = {
        which = acceptance
        value = 10
      }
    }
    export_to_variable = {
      variable_name = ourdevVAR
      value = total_development
      who = FROM
    }
    multiply_variable = {
      which = ourdevVAR
      value = -0.2
    }
    change_variable = {
      which = acceptance
      which = ourdevVAR
    }
    if = {
      limit = {
        ROOT = {
          is_bankrupt = yes
        }
      }
      change_variable = {
        which = acceptance
        value = -100
      }
    }
    if = {
      limit = {
        FROM = { protectorate = 1 }
      }
      change_variable = {
        which = acceptance
        value = -20
      }
    }


    check_variable = {
        which = acceptance
        value = 0
    }
  }
}

frenchie_pyramid = {
  OR = {
    AND = {
      ROOT = { is_subject = no }
      FROM = { is_subject = no }
    }
    AND = {
      ROOT = { is_subject = no }
      FROM = { is_subject = yes }
    }
    AND = {
      OR = {
        ROOT = { is_subject_of_type = protectorate }
      }
      OR = {
        FROM = { is_subject_of_type = autonomous_vassal }
        FROM = { is_subject_of_type = personal_union }
        FROM = { is_subject_of_type = ward }
        FROM = { is_subject_of_type = estate }
      }
    }
    AND = {
      OR = {
        ROOT = { is_subject_of_type = autonomous_vassal }
      }
      OR = {
        FROM = { is_subject_of_type = personal_union }
        FROM = { is_subject_of_type = ward }
        FROM = { is_subject_of_type = estate }
      }
    }
    AND = {
      OR = {
        ROOT = { is_subject_of_type = personal_union }
      }
      OR = {
        FROM = { is_subject_of_type = ward }
        FROM = { is_subject_of_type = estate }
      }
    }
    AND = {
      OR = {
        ROOT = { is_subject_of_type = ward }
      }
      OR = {
        FROM = { is_subject_of_type = estate }
      }
    }
  }
}

frenchie_would_betray = {
  variable_arithmetic_trigger = {
    export_to_variable = {
        variable_name = acceptance
        value = -50
    }
    if = { #In_Trade_League
      limit = {
        FROM = { is_in_trade_league = yes }
      }

      change_variable = {
        variable_name = acceptance
        value = -20
      }
    }
    if = { #married
      limit = {
        FROM = { marriage_with = ROOT }
      }
      change_variable = {
        which = acceptance
        value = 15
      }
    }
    if = { #married
      limit = {
        ROOT = { is_emperor = yes }
      }

      change_variable = {
        variable_name = acceptance
        value = 20
      }
    }
    export_to_variable = {
      variable_name = trustVAR
      value = trust
      who = FROM
      with = ROOT
    }
    multiply_variable = {
      which = trustVAR
      value = 1.5
    }
    subtract_variable = {
      which = trustVAR
      value = 75
    }
    change_variable = {
      which = acceptance
      which = trustVAR
    }
    export_to_variable = {
      variable_name = border_distanceVAR
      value = border_distance
      who = FROM
    }
    multiply_variable = {
      which = border_distanceVAR
      value = -1
    }
    divide_variable = { which = border_distanceVAR value = 5 }
    change_variable = {
      which = acceptance
      which = border_distanceVAR
    }
    export_to_variable = {
      variable_name = opinionVAR
      value = opinion
      who = FROM
      with = ROOT
    }
    multiply_variable = {
      which = opinionVAR
      value = 0.25
    }
    change_variable = {
      which = acceptance
      which = opinionVAR
    }
    export_to_variable = {
      variable_name = ourdiprepVAR
      value = modifier:diplomatic_reputation
    }
    export_to_variable ={
    variable_name = theirdiprepVAR
    value = modifier:diplomatic_reputation
    who = FROM
    }
    subtract_variable = {
      which = ourdiprepVAR
      which = theirdiprepVAR
    }
    multiply_variable = { which = ourdiprepVAR value = 5 }
    change_variable = {
      which = acceptance
      which = ourdiprepVAR
    }
    if = { #Bankruptcy
      limit = {
        ROOT = {
        is_bankrupt = yes
        }
      }
      change_variable = {
        variable_name = acceptance
        value = -100
        who = FROM
      }
    }
    export_to_variable = {
      which = warscoreVAR
      value = trigger_value:war_score
    }
    change_variable = {
      which = acceptance
      which = warscoreVAR
    }
  }

  check_variable = {
      which = acceptance
      value = 0
  }
}

frenchie_FROM_would_accept_becoming_vassal = {
  variable_arithmetic_trigger = {
      export_to_variable = {
          variable_name = acceptance
          value = -25
      }
    if = { # name = Free_City
      limit = {
        ROOT = { has_reform = free_city }
      }
      change_variable = {
        variable_name = acceptance
        value = -50
      }
    }
    if = { #name = Trading_City
      limit = {
        ROOT = { has_reform = trading_city }
      }
      change_variable = {
        variable_name = acceptance
        value = -50
      }
    }
    if = {# name = In_Trade_League
      limit = {
        ROOT = { is_in_trade_league = yes }
      }
      change_variable = {
        variable_name = acceptance
        value = -50
      }
    }
    if = { #name = Married
      limit = {
        ROOT = { marriage_with = FROM }
      }
      change_variable = {
        variable_name = acceptance
        value = 15
      }
    }
    if = { #name = Alliance
      limit = {
        ROOT = { alliance_with = FROM }
      }
      change_variable = {
        variable_name = acceptance
        value = 30
      }
    }
    if = {# name = Is_Emperor
      limit = {
        FROM = { is_emperor = yes }
      }
      change_variable = {
        variable_name = acceptance
        value = 20
      }
    }
    if = { #name = Is_Elector
      limit = {
        ROOT = { is_elector = yes}
      }
      change_variable = {
        variable_name = acceptance
        value = -80
        who = ROOT
      }
    }
    export_to_variable = {
      variable_name = trustVAR
      value = trust
      who = ROOT
      with = FROM
    }
    multiply_variable = {
      which = trustVAR
      value = 1.5
    }
    subtract_variable = {
      which = trustVAR
      value = 75
    }
    change_variable = {
      variable_name = acceptence
      value = trustVAR
    }
    if = { #name = Relative_Armies
      limit = {
        NOT = {
          variable_arithmetic_trigger = {
            export_to_variable = {
              variable_name = frenchie_my_army_size
              value = army_size
            }
            export_to_variable = {
              variable_name = frenchie_their_army_size
              value = army_size
              who = ROOT
            }
            change_variable = { which = frenchie_their_army_size value = 1 }
            divide_variable = { which = frenchie_my_army_size which = frenchie_their_army_size }
            multiply_variable = { which = frenchie_my_army_size value = 20 }
            subtract_variable = { which = frenchie_my_army_size value = 30 }

            check_variable = {
              which = frenchie_my_army_size
              value = 30
            }
          }
        }
      }
      change_variable = {
        variable_name = army_VAR
        value = army_size
      }
      export_to_variable = {
        variable_name = acceptance_army
        value = army_size
        who = ROOT
      }
      change_variable = { which = acceptance_army value = 1 }
      divide_variable = { which = army_VAR which = acceptance_army }
      multiply_variable = { which = army_VAR value = 20 }
      subtract_variable = { which = army_VAR value = 30 }
      change_variable = {
        variable_name = acceptence
        value = trustVAR
      }
    }
    if = { #name = Relative_Armies
      limit = {
        variable_arithmetic_trigger = {
          export_to_variable = {
            variable_name = frenchie_my_army_size
            value = army_size
          }
          export_to_variable = {
            variable_name = frenchie_their_army_size
            value = army_size
            who = ROOT
          }
          change_variable = { which = frenchie_their_army_size value = 1 }
          divide_variable = { which = frenchie_my_army_size which = frenchie_their_army_size }
          multiply_variable = { which = frenchie_my_army_size value = 20 }
          subtract_variable = { which = frenchie_my_army_size value = 30 }

          check_variable = {
            which = frenchie_my_army_size
            value = 30
          }
        }
      }
      change_variable = {
        variable_name = acceptance
        value = 30
      }
    }
    change_variable = {
      variable_name = borderVAR
      value = border_distance
      who = ROOT
    }
    multiply_variable = {
      which = borderVAR
      value = -1
    }
    divide_variable = { which = borderVAR value = 4 }
    change_variable = {
      variable_name = acceptence
      value = borderVAR
    }
    change_variable = {
      variable_name = opinionVAR
      value = opinion
      who = ROOT
      with = FROM
    }
    multiply_variable = {
      which = opinionVAR
      value = 0.20
    }
    change_variable = {
      variable_name = acceptence
      value = opinionVAR
    }
    change_variable = {
      variable_name = ourdiprepVAR
      value = modifier:diplomatic_reputation
    }
    export_to_variable ={
    variable_name = theirdiprepVAR
    value = modifier:diplomatic_reputation
    who = ROOT
    }
    subtract_variable = {
      which = ourdiprepVAR
      which = theirdiprepVAR
    }
    multiply_variable = { which = ourdiprepVAR value = 5 }
    change_variable = {
      variable_name = acceptence
      value = ourdiprepVAR
    }
    change_variable = {
      variable_name = ourdevVAR
      value = total_development
      who = ROOT
    }
    multiply_variable = {
      which = ourdevVAR
      value = -0.3
    }
    change_variable = {
      variable_name = acceptence
      value = ourdevVAR
    }
    if = { #name = Bankruptcy
      limit = {
        FROM = {
        is_bankrupt = yes
        }
      }
      change_variable = {
        variable_name = acceptance
        value = -100
        who = ROOT
      }
    }
    if = { #name = Has_Prots_It_Would_Abandon
      limit = {
        ROOT = { protectorate = 1 }
      }
      change_variable = {
        variable_name = acceptance
        value = -20
        who = ROOT
      }
    }
    if = { #name = Has_AVs_It_Would_Abandon
      limit = {
        ROOT = { autonomous_vassal = 1 }
      }
      change_variable = {
        variable_name = acceptance
        value = -30
        who = ROOT
      }
    }
    if = { #name = Has_PU_It_Would_Abandon
      limit = {
        ROOT = { personal_union = 1 }
      }
      change_variable = {
        variable_name = acceptance
        value = -30
        who = ROOT
      }
    }
    if = { #name = Has_vassals_It_Would_Abandon
      limit = {
        ROOT = { vassal = 1 }
      }
      change_variable = {
        variable_name = acceptance
        value = -30
        who = ROOT
      }
    }
    if = { #name = Same_faith
      limit = {
        religion = ROOT
      }
      change_variable = {
        variable_name = acceptance
        value = 20
      }
    }
    if = { #name = Close_faith
      limit = {
        NOT = { religion = ROOT }
        religion_group = ROOT
      }
      change_variable = {
        variable_name = acceptance
        value = 10
      }
    }
    if = { #name = Infidel
      limit = {
        NOT = { religion_group = ROOT }
      }
      change_variable = {
        variable_name = acceptance
        value = -15
      }
    }
    check_variable = {
        which = acceptance
        value = 0
    }
  }
}

frenchie_recent_autonomy_lowering = {
    ROOT = {
      AND = {
        NOT = {
          is_at_war = yes
        }
        NOT = {
          has_opinion_modifier = {
            who = FROM
            modifier = declined_protectorate_status
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = FROM
            modifier = formed_protectorate_relationship
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = FROM
            modifier = broke_protectorate_relationship
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = FROM
            modifier = declined_avassal_status
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = FROM
            modifier = formed_avassal_relationship
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = FROM
            modifier = broke_avassal_relationship
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = FROM
            modifier = formed_vassal_relationship
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = FROM
            modifier = frenchie_lowered_autonomy
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = FROM
            modifier = frenchie_overlord_lowered_autonomy
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = FROM
            modifier = leon_subject_raised_autonomy
          }
        }
      }
    }
    FROM = {
      AND = {
        NOT = {
          is_at_war = yes
        }
        NOT = {
          has_opinion_modifier = {
            who = ROOT
            modifier = declined_protectorate_status
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = ROOT
            modifier = formed_protectorate_relationship
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = ROOT
            modifier = broke_protectorate_relationship
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = ROOT
            modifier = declined_avassal_status
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = ROOT
            modifier = formed_avassal_relationship
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = ROOT
            modifier = broke_avassal_relationship
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = ROOT
            modifier = formed_vassal_relationship
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = ROOT
            modifier = frenchie_lowered_autonomy
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = ROOT
            modifier = frenchie_overlord_lowered_autonomy
          }
        }
        NOT = {
          has_opinion_modifier = {
            who = ROOT
            modifier = leon_subject_raised_autonomy
          }
        }
      }
    }
}
