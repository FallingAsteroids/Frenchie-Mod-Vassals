namespace = leon_mod

# remove truces
country_event = { #event for overlord: subject left (located in stop_being_protectorate, become_independent)
  id = leon_mod.1
  title = "leon_mod_1.t"
  desc = "leon_mod_1.d"
  is_triggered_only = yes
  picture = "DIPLOMACY_eventPicture"

  option = {
    name = "leon_mod_1.a"
  }
}

country_event = { #event for overlord: protectorate gained (loaced in demand_protectorate)
  id = leon_mod.2
  title = "leon_mod_2.t"
  desc = "leon_mod_2.d"
  is_triggered_only = yes
  picture = "CONQUEST_eventPicture"

  option = {
    name = "leon_mod_2.a"
  }
}

country_event = { #event for overlord: protectorate not gained (loaced in demand_protectorate)
  id = leon_mod.3
  title = "leon_mod_3.t"
  desc = "leon_mod_3.d"
  is_triggered_only = yes
  picture = "DIPLOMACY_eventPicture"

  option = {
    name = "leon_mod_3.a"
  }
}


country_event = {  #event for subject: overlord abandoned you (located in abandon_Protectorate)
  id = leon_mod.4
  title = "leon_mod_4.t"
  desc = "leon_mod_4.d"
  is_triggered_only = yes
  picture = "EUROPEAN_REFUGEES_eventPicture"

  option = {
    name = "leon_mod_4.a"
  }
}

country_event = {  #event for subject: overlord accepted you (located in ask_to_become_protectorate)
  id = leon_mod.5
  title = "leon_mod_5.t"
  desc = "leon_mod_5.d"
  is_triggered_only = yes
  picture = "DIPLOMACY_eventPicture"

  option = {
    name = "leon_mod_5.a"
  }
}

country_event = {  #event for subject: overlord denied you (located in ask_to_become_protectorate)
  id = leon_mod.6
  title = "leon_mod_6.t"
  desc = "leon_mod_6.d"
  is_triggered_only = yes
  picture = "EUROPEAN_REFUGEES_eventPicture"

  option = {
    name = "leon_mod_6.a"
  }
}

country_event = {  #event for subject: overlord denied you (located in ask_to_become_protectorate)
  id = leon_mod.7
  title = "leon_mod_7.t"
  desc = "leon_mod_7.d"
  picture = "EUROPEAN_REFUGEES_eventPicture"
  hidden = yes

  mean_time_to_happen = {
  	 days = 1
  }
  trigger = {
    is_subject_of_type = estate
    NOT = { has_country_flag = estate }
  }
  immediate = {
    set_country_flag = estate
  }
  option = {
    name = "leon_mod_7.a"
    ai_chance = { factor = 100 }
  }
}

country_event = {  #event for subject: overlord denied you (located in ask_to_become_protectorate)
  id = leon_mod.8
  title = "leon_mod_8.t"
  desc = "leon_mod_8.d"
  picture = "EUROPEAN_REFUGEES_eventPicture"
  hidden = yes

  mean_time_to_happen = {
  	 days = 1
  }
  trigger = {
    NOT = {
      is_subject_of_type = estate
    }
    is_at_war = no
    has_country_flag = estate
  }
  immediate = {
    clr_country_flag = estate
  }
  option = {
    name = "leon_mod_8.a"
  }
}
#independance war
province_event = { #subject event
  id = leon_mod.9
  title = "leon_mod_9.t"
  desc = "leon_mod_9.d"
  hidden = yes
  trigger = {
  	NOT = {
      any_province_in_state = {
        is_capital_of = owner
      }
    }
    owner = {
      is_at_war = yes
    }
    NOT = { controlled_by = owner }
    controller = { has_country_flag = estate }
    OR = {
      is_in_war = {
        defender_leader = owner
        attackers = controller
        casus_belli = cb_frenchie_seize_power
      }
      is_in_war = {
        defender_leader = overlord
        attackers = controller
        casus_belli = cb_frenchie_seize_power
      }
    }
    }
  mean_time_to_happen = {
    days = 1
  }
  immediate = {
    if = {
      limit = {
        culture_group = controller #change "culture" to "culture_group" to change it
      }
      add_core = controller
    }
    cede_province = controller
  }
  option = {
    name " leon_mod.9.a"
  }
}

province_event = { #overlord event
  id = leon_mod.10
  title = "leon_mod_10.t"
  desc = "leon_mod_10.d"
  hidden = yes
  trigger = {
  	NOT = {
      any_province_in_state = {
        is_capital_of = owner
      }
    }
    owner = {
      is_at_war = yes
    }
    NOT = { controlled_by = owner }
    owner = { has_country_flag = estate }
    owner = {
      has_casus_belli = {
        type = cb_frenchie_seize_power
        target = controller
      }
    }
    is_in_war = {
      defender_leader = controller
      attackers = owner
      casus_belli = cb_frenchie_seize_power
    }
    }
  mean_time_to_happen = {
    days = 1
  }
  immediate = {
    add_core = controller
    cede_province = controller
  }
  option = {
    name " leon_mod.10.a"
  }
}
